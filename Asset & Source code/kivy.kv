#:import hex kivy.utils.get_color_from_hex
<Login>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 2
        padding: [80,80]
        Label :
            text: 'TAKE YOUR BOOK APP'
            font_size: '27'
            padding: [0,0]
            valign: 'bottom'
        Image: 
            source: "logo.png"
            size_hint_y: None
            height: 150
        Label: 
            text: "Username : "
            font_size: "24"
            halign: 'left'
        TextInput: 
            id: username
            font_size: "24sp"
            padding: 15
            multiline: False
        Label: 
            text: "Password"
            font_size: "24"
            halign: 'left'
        TextInput: 
            id : pwInput
            password: True
            font_size: "24sp"
            padding: 15 
            multiline: False
        Label :
            text:""
        Button: 
            text: "Login"
            font_size: "24sp"
            on_press: root.LoginClicked(username.text,pwInput.text)
            background_color: 0.48, 0.8, 0.68, 1
        Button: 
            text: "Register"
            font_size: "24sp"
            on_press: root.manager.current = 'reg'
            background_color: 0.9, 0.65, 0.19, 1

<Regist>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 2
        padding: [80,80]
        Label :
            text: 'CREATE ACCOUNT'
            font_size: '27'
            padding: [0,0]
            valign: 'bottom'
        Label: 
            text: "New Username : "
            font_size: "24"
            halign: 'left'
        TextInput: 
            id: Newusername
            font_size: "24sp"
            padding: 15
            multiline: False
        Label: 
            text: "NewPassword"
            font_size: "24"
            halign: 'left'
        TextInput: 
            id : NewpwInput
            password: True
            font_size: "24sp"
            padding: 15 
            multiline: False
        Label :
            text:"Email"
            font_size: "24"
            halign: 'left'
        TextInput: 
            id: Email
            font_size: "24sp"
            padding: 15 
            multiline: False
        Label :
            text: ""
        Button: 
            text: "Back To Login"
            font_size: "24sp"
            background_color: 0.48, 0.8, 0.68, 1
            on_press: root.manager.current = 'login'
        Button: 
            text: "Register"
            font_size: "24sp"
            on_press: root.validateReg(Newusername.text, NewpwInput.text, Email.text)
            background_color: 0.9, 0.65, 0.19, 1

<menu>
    BoxLayout:
        orientation: 'vertical'
        spacing: 20
        padding: [50,80]
        BoxLayout:
            orientation: 'horizontal'
            spacing: 2  
            Label :
                text: "'A BEAUTIFUL HOUSE, A BEAUTIFUL BOOK'\n If I were asked to say what is at once the most\n important production of art and the thing to be most longed for\n, I should answer, a beautiful House and if I were further asked to name \nthe production next in importance and the thing next to be longed for,\n I should answer, a beautiful Book. \nTo enjoy good houses and good books in self-respect and decent comfort, \nseems to me to be the pleasurable end \ntowards which all societies of human beings ought now to struggle.\n'William Morris'"
            Button: 
                font_size: "24sp"
                background_color: 0.48, 0.8, 0.68, 0.8
                on_press: root.manager.current = 'view'
                Image:
                    source: 'borrow.png'
                    y: self.parent.y + self.parent.height - 550
                    x: self.parent.x - 100
                    size: 850, 550
                    allow_stretch: True
                    text: "Return Book"     

        Button: 
            text: "Log Out"
            font_size: "24sp"
            size_hint_y: None
            background_color: 0.81, 0.27, 0.33, 1
            height: 40
            on_press : root.manager.current = 'login'
 


<SelectableBook>:
    # Draw a background to indicate selection
    canvas.before:
        Color:
            rgba: (144/255, 209/255, 198/255, 1) if self.selected else (0.48, 0.8, 0.68, 0.2)
        Rectangle:
            pos: self.pos
            size: self.size
    label1_text: 'label 1 text'
    imageBook: 'src image'
    label2_text: 'label 2 text'
    label3_text: 'label 3 text'
    label4_text: 'label 4 text'
    pos: self.pos
    size: self.size
    Label:
        id: id_label1
        text: root.label1_text
    Image:
        id: image_1
        source: root.imageBook
        size_hint_y: None
        height: 100
    Label:
        id: id_label2
        text: root.label2_text
        font_size: "24"
    Label:
        id: id_label3
        text: root.label3_text
        font_size: "24"
    Label:
        id: id_label4
        text: root.label4_text
        font_size: "24"

<RV>:
    viewclass: 'SelectableBook'
    SelectableRecycleBoxLayout:
        padding: [30,30]
        spacing: 5
        default_size: None, dp(100)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'
        multiselect: True
        touch_multiselect: True
<view>
    BoxLayout:
        padding: [15,15]
        spacing: 10
        orientation: 'vertical'
        Label:
            text: "Book List"
            font_size: "36"
            size_hint_y: None
            height: 50
        RV
        Button : 
            text: "Take Book"
            font_size: "24sp"
            size_hint_y: None
            background_color: 0.9, 0.65, 0.19, 1
            height: 70
            on_press : root.TakeBook()
        Button : 
            text: "Back"
            font_size: "24sp"
            size_hint_y: None
            background_color: 0.81, 0.27, 0.33, 1
            height: 70
            on_press : root.manager.current = 'ROB'
